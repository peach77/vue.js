{"version":3,"sources":["Header.js","Home.js","Text.js","User.js","Main.js","App.js","serviceWorker.js","index.js"],"names":["Header","state","uesrInfo","inputValue","componentDidMount","localStorage","getItem","axios","post","accesstoken","then","res","setState","data","setItem","id","text","event","target","value","Login","trim","loginname","props","history","push","alert","Exit","console","log","removeItem","this","className","to","src","alt","type","onChange","style","width","borderRadius","padding","avatar_url","onClick","Component","withRouter","moment","locale","Home","topics","page","NewUp","a","get","url","location","search","cunrrentPage","includes","Number","match","fromLocationGetType","changepage","componentDidUpdate","num","tab","allnumber","find","item","indexOf","have","isActive","map","key","display","marginRight","author","reply_count","visit_count","top","good","backgroundColor","color","title","total","current","defaultPageSize","Text","topic","replies","comment","textAreacomment","topicId","params","initEditor","Axios","forEach","textArea","setComment","html","replyReply","content","reply_id","reply","b","newTopic","addComment","topic_id","handle","zan","token","action","ups","filter","elem","refs","editorElem","editor","E","customConfig","menus","onchange","create","name","create_at","fromNow","dangerouslySetInnerHTML","__html","flexWrap","justifyContent","borderTop","height","length","marginLeft","marginTop","rows","cols","ref","User","username","Main","exact","path","component","App","Boolean","window","hostname","ReactDOM","render","document","getElementById","navigator","serviceWorker","ready","registration","unregister","catch","error","message"],"mappings":"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","file":"static/js/main.fdd22bb8.chunk.js","sourcesContent":["import React, { Component } from 'react';\r\nimport './Header.css'\r\nimport axios from 'axios';\r\nimport { withRouter, Link } from 'react-router-dom'\r\nclass Header extends Component {\r\n    state = {\r\n        uesrInfo: null,\r\n        inputValue: '3d029f55-d68b-4e46-8e78-69149b95cabe',\r\n    }\r\n    render() {\r\n        const { uesrInfo, inputValue } = this.state\r\n\r\n\r\n        return <header>\r\n        <div className=\"wrap\">\r\n                    <div className=\"top\">\r\n                    <Link to='/'><img className='logo' src=\"https://www.vue-js.com/public/images/vue.png\" alt=\"\" /></Link>\r\n                    <Link to='/'><span className='vue' >Vue.js</span></Link>\r\n                <input type=\"text\" value={inputValue} onChange={this.text} />\r\n                </div>\r\n            \r\n\r\n                {uesrInfo ? <div className='user'> <Link to={`/user/${uesrInfo.loginname}`}><img style={{ width: '40px',borderRadius:'50%',padding:\"5px 5px\" }} className='logo' src={uesrInfo.avatar_url} alt=\"\" /></Link>\r\n                    <span className=\"name\">{uesrInfo.loginname}</span>\r\n                    <Link to='/'><span className=\"btn\" onClick={this.Exit}>退出</span></Link>\r\n                </div> :\r\n                    <div ><Link to='/'><span  className=\"btn\" onClick={this.Login}>登录</span></Link></div>}\r\n        </div>\r\n          \r\n        </header>\r\n    }\r\n    componentDidMount = () => {\r\n        const { inputValue } = this.state\r\n\r\n        if (localStorage.getItem(\"token\")) {\r\n            axios.post('https://www.vue-js.com/api/v1/accesstoken', { accesstoken: inputValue }).then(res => {\r\n                this.setState({\r\n                    uesrInfo: res.data,\r\n                    inputValue: '',\r\n                })\r\n\r\n                localStorage.getItem(\"lastname\");\r\n                localStorage.setItem(\"id\", res.data.id);\r\n            })\r\n\r\n        }\r\n    }\r\n    text = (event) => {\r\n        this.setState({\r\n            inputValue: event.target.value\r\n        })\r\n    }\r\n    Login = () => {\r\n        const { inputValue } = this.state\r\n\r\n        if (inputValue.trim() === '3d029f55-d68b-4e46-8e78-69149b95cabe') {\r\n            axios.post('https://www.vue-js.com/api/v1/accesstoken', { accesstoken: inputValue }).then(res => {\r\n                this.setState({\r\n                    uesrInfo: res.data,\r\n                    inputValue: '',\r\n                })\r\n                localStorage.setItem(\"token\", '3d029f55-d68b-4e46-8e78-69149b95cabe');\r\n                localStorage.setItem(\"lastname\", res.data.loginname);\r\n                localStorage.setItem(\"id\", res.data.id);\r\n                this.props.history.push('/')\r\n\r\n            })\r\n\r\n        }\r\n        else {\r\n            alert('请输入正确的用户名或者密码')\r\n        }\r\n    }\r\n    Exit = () => {\r\n        console.log(this.props.history.push('/'));\r\n\r\n        // const { uesrInfo } = this.state\r\n        this.setState({\r\n            uesrInfo: false,\r\n            inputValue: '3d029f55-d68b-4e46-8e78-69149b95cabe'\r\n        })\r\n       \r\n        localStorage.removeItem(\"token\", '3d029f55-d68b-4e46-8e78-69149b95cabe');\r\n        localStorage.removeItem(\"lastname\");\r\n        localStorage.removeItem(\"id\");\r\n        this.props.history.push('/')\r\n\r\n\r\n    }\r\n}\r\nexport default withRouter(Header)","import React, { Component } from 'react';\r\nimport { Link, NavLink } from 'react-router-dom'\r\nimport { Pagination } from 'antd';\r\nimport moment from 'moment';\r\nimport 'moment/locale/zh-cn'\r\nimport axios from 'axios';\r\nimport './Home.css'\r\nmoment.locale('zh-cn'); \r\n\r\n\r\nclass Home extends Component {\r\n\r\n    state = {\r\n        topics: [],\r\n        page: 1\r\n    }\r\n    NewUp = (type = 'all', a = '1') => {\r\n        axios.get(`https://www.vue-js.com/api/v1/topics?tab=${type}&page=${a}\r\n        `).then(res => {\r\n            this.setState({\r\n                topics: res.data.data,\r\n            })\r\n        })\r\n    }\r\n    componentDidMount = () => {\r\n        const url = this.props.location.search\r\n        console.log(url);\r\n        \r\n        \r\n        const cunrrentPage = url.includes('page') ? Number(this.props.location.search.match(/[0-9]{1,2}/)) : 1\r\n\r\n        const type = this.fromLocationGetType()\r\n        this.NewUp(type, cunrrentPage)\r\n        this.setState({\r\n            page: cunrrentPage\r\n        })\r\n\r\n    }\r\n\r\n    fromLocationGetType = () => {\r\n        const url = (this.props.location.search);\r\n        return url === '' ? 'all' : url.includes('all') ? 'all' : url.includes('good') ? 'good' : url.includes('weex') ? 'weex' : url.includes('share') ? 'share' : url.includes('job') ? 'job' : 'ask'\r\n\r\n    }\r\n    changepage = (a) => {\r\n\r\n        const type = this.fromLocationGetType()\r\n        this.NewUp(type, a)\r\n        this.props.history.push(`?tab=${type}&page=${a}`)\r\n        this.setState({\r\n            page: a\r\n        })\r\n    }\r\n    componentDidUpdate = (a) => {\r\n        const url = this.props.location.search\r\n        const type = this.fromLocationGetType()\r\n        if (a.location.search !== url) {\r\n            this.setState({\r\n                topics: [],\r\n\r\n            })\r\n            if (!url.includes('page')) {\r\n                this.setState({\r\n                    page: 1\r\n                })\r\n                this.NewUp(type, 1)\r\n            } else {\r\n                this.NewUp(type, this.state.page)\r\n            }\r\n        }\r\n\r\n    }\r\n\r\n    render() {\r\n        const { page } = this.state\r\n        const url = (this.props.location.search);\r\n     \r\n        \r\n\r\n\r\n        const pagationArr = [\r\n            { tab: 'all', allnumber: 1015 },\r\n            { tab: 'good', allnumber: 15 },\r\n            { tab: 'weex', allnumber: 3 },\r\n            { tab: 'share', allnumber: 350 },\r\n            { tab: 'ask', allnumber: 623 },\r\n            { tab: 'job', allnumber: 39 },\r\n        ]\r\n        const num = pagationArr.find(item => url === '' ? item.tab === 'all' : url.indexOf(item.tab) > -1).allnumber\r\n        const { topics } = this.state\r\n        console.log(this.props.location.search);\r\n        const have=this.props.location.search.includes('all')||this.props.location.search.includes('good')||this.props.location.search===''\r\n        console.log(have);\r\n        \r\n        return <div className='wrap'>\r\n          \r\n            <ul className='list'>\r\n                <li><NavLink className={url===''?'active':''} isActive={() => url.includes('?tab=all')} to=\"/?tab=all\" >全部</NavLink></li>\r\n                <li><NavLink isActive={() => url.includes('?tab=good')} to=\"/?tab=good\">精华</NavLink></li>\r\n                <li><NavLink isActive={() => url.includes('?tab=weex')} to=\"/?tab=weex\">weex</NavLink></li>\r\n                <li><NavLink isActive={() => url.includes('?tab=share')} to=\"/?tab=share\">分享</NavLink></li>\r\n                <li><NavLink isActive={() => url.includes('?tab=ask')} to=\"/?tab=ask\">问答</NavLink></li>\r\n                <li> <NavLink isActive={() => url.includes('?tab=job')} to=\"/?tab=job\">招聘</NavLink></li>\r\n            </ul>\r\n           \r\n            {topics ? <div className=\"topic\"><ul className=\"listOne\">{topics.map(res => <li key={res.id}><Link style={{width:'50px',display:\"inline-block\" }}  to={`/user/:username`}><img style={{ width: '30px',borderRadius:\"3px\",marginRight:'10px' }} className='people-logo' src={res.author.avatar_url} alt=\"\" /></Link><p className=\"all\" ><span className=\"int\">{res.reply_count}</span><span className=\"intone\">/{res.visit_count}</span></p><span className=\"top\" style={res.top?{backgroundColor: \"#369219\",color:\"#fff\"}:res.good?{backgroundColor: \"#369219\",color:\"#fff\"}:{backgroundColor: \"#e5e5e5\",color:\"#999\"}}>{have?<span className=\"yeah\">{res.top?'置顶':res.good?'精华':res.tab==='share'?'分享':res.tab==='ask'?'问答':res.tab==='job'?'招聘':'weex'}</span>:''}</span><Link className=\"dis\" to={`/topic/${res.id}`}>{res.title}</Link><hr/></li>)}</ul></div> : <div>稍等一下数据马上就来</div>}\r\n\r\n            <Pagination onChange={this.changepage} total={num} current={page} defaultPageSize={20} />\r\n        </div>\r\n    }\r\n\r\n\r\n}\r\n\r\nexport default Home","import React, { Component } from 'react';\r\nimport Axios from 'axios';\r\nimport moment from 'moment';\r\nimport './Text.css'  ;\r\nimport 'moment/locale/zh-cn'\r\nimport { Link } from 'react-router-dom';\r\nimport E from 'wangeditor'\r\n\r\nmoment.locale('zh-cn'); \r\n\r\nclass Text extends Component{\r\n    state={\r\n        topic:null,\r\n        replies:[],\r\n        comment:'',\r\n        textAreacomment:''\r\n        \r\n    }\r\n    componentDidMount=()=>{\r\n       const topic=this.state.topic\r\n        const topicId=this.props.match.params.id\r\n        this.initEditor()\r\n      \r\n      \r\n        \r\n  \r\n       \r\n        \r\n      \r\n        Axios.get(`https://www.vue-js.com/api/v1/topic/${topicId}`).then(res=>\r\n                {  \r\n                    const topic=res.data.data\r\n                    topic.replies.forEach(item=>item.textArea=false)\r\n                this.setState({\r\n                    topic:topic,\r\n                    replies:res.data.data.replies\r\n\r\n                })}\r\n                    ) }\r\n       initEditor () { \r\n        const elem = this.refs.editorElem\r\n        const editor = new E(elem)\r\n        this.editor = editor \r\n        editor.customConfig.menus = [\r\n            'head',\r\n            'bold',\r\n            'italic',\r\n            'underline'\r\n        ]\r\n        editor.customConfig.onchange =html=> {  \r\n            this.setComment(html)\r\n          \r\n        }\r\n      \r\n        editor.create()\r\n     }\r\n     setComment=(html)=>{\r\n        this.setState({\r\n           comment:html\r\n        })\r\n     }\r\n       \r\n    render() {\r\n       \r\n      const {topic,replies,comment,textAreacomment}=this.state\r\n      const name=localStorage.getItem(\"lastname\")\r\n\r\n       \r\n        \r\n        \r\n      \r\n     return <div className='big-wrap'>\r\n       \r\n         {topic?\r\n           <div><h2>{topic.title}</h2><div><span>• 发布于 {moment(topic.create_at).fromNow()}</span> <span>• 作者<Link className=\"author\" to='/user/:username'>{topic.author.loginname}</Link></span> •{topic.visit_count}次浏览<div dangerouslySetInnerHTML={{__html:topic.content}}/></div></div>:'请稍等'}\r\n        <div className=\"comment-box\">\r\n        {replies?<div >{replies.map(res=>\r\n        <div style={{display:'flex',flexWrap:'nowrap',padding:'10px',justifyContent:'space-between',borderTop:'1px solid #DCDCDC'}} key={res.id}>  \r\n            <div style={{display:'flex',flexWrap:'nowrap',width:'800px'}}>\r\n                <img style={{width:'30px',height:'30px',marginRight:'6px'}} src={res.author.avatar_url} alt=\"\"/>\r\n                <div >\r\n                    {res.author.loginname}<br/>\r\n                    <div style={{display:'inline-block'}} dangerouslySetInnerHTML={{__html:res.content}}/>\r\n                </div>\r\n            </div>\r\n           \r\n           \r\n            <div className=\"zan\">\r\n                <button onClick={()=>{this.zan(res.id)}} style={{color:res.ups.includes('5e86e2a97d2d480729ae771c')?'red':'black'}}>点赞</button>\r\n                <span>{res.ups.length}</span>\r\n                {name?<button onClick={()=>{this.reply(res.author.loginname,res.id)}}>回复</button>:''}\r\n                <div style={{marginLeft:'-850px',marginTop:'30px'}}>\r\n                {res.textArea?<div  ><textarea rows=\"8\" cols=\"135\"  className='reply' onChange={(event=>this.setState({ textAreacomment:event.target.value }))} style={{display:'block'}} value={textAreacomment}></textarea><button onClick={()=>{this.replyReply(res.id)}}>回复</button></div>:''} \r\n                </div>\r\n            </div>\r\n           \r\n               \r\n           \r\n        </div>)}</div>:'等一下'\r\n\r\n        }\r\n        \r\n        </div>\r\n      \r\n        <h3>添加回复</h3>\r\n        <div ref='editorElem' id=\"#div1\"></div>\r\n       <button onClick={this.addComment}>回复</button>\r\n        </div>\r\n    }\r\n    replyReply=(id)=>{\r\n        const topicId=this.props.match.params.id\r\n        // const comment=this.state.comment\r\n        const {textAreacomment}=this.state\r\n        if(textAreacomment.trim()){\r\n            Axios.post(`https://www.vue-js.com/api/v1/topic/${topicId}/replies`,{accesstoken:'3d029f55-d68b-4e46-8e78-69149b95cabe',content:textAreacomment,reply_id:id}).then(res=>{\r\n                Axios.get(`https://www.vue-js.com/api/v1/topic/${topicId}`).then(res=>\r\n                { \r\n                this.setState({\r\n                    topic:res.data.data,\r\n                    replies:res.data.data.replies\r\n                })}\r\n                    )})\r\n\r\n        }\r\n     \r\n    }\r\n    reply=(a,b)=>{\r\n        const {topic}=this.state\r\n\r\n        const newTopic={...topic}\r\n        topic.replies.forEach(res=>{\r\n            if(res.id===b){\r\n                res.textArea=!res.textArea\r\n            }else{\r\n                res.textArea=false\r\n            }\r\n        })\r\n      \r\n       this.setState({\r\n        topic:newTopic,\r\n        textAreacomment:`@${a}  `\r\n       })\r\n  \r\n      \r\n        \r\n    }\r\n    addComment=()=>{\r\n            const comment=this.state.comment\r\n            const topic_id=this.props.match.params.id\r\n            if(comment.trim()){\r\n                Axios.post(`https://www.vue-js.com/api/v1/topic/${topic_id}/replies`,{accesstoken:'3d029f55-d68b-4e46-8e78-69149b95cabe',content:comment}).then(res=>{\r\n                    console.log(res.data);\r\n                    const topicId=this.props.match.params.id\r\n                    Axios.get(`https://www.vue-js.com/api/v1/topic/${topicId}`).then(res=>\r\n                    { \r\n                    this.setState({\r\n                        topic:res.data.data,\r\n                        replies:res.data.data.replies\r\n                    })}\r\n                        )\r\n                })\r\n                \r\n               \r\n            }else{\r\n                alert('请输入有效字符')\r\n            }\r\n          \r\n   \r\n     \r\n        \r\n    }\r\n    handle=(event)=>{\r\n        this.setState({\r\n            comment:event.target.value\r\n        })\r\n    }\r\n    zan=(reply_id)=>{\r\n        const token=localStorage.getItem(\"token\")\r\n        const id=localStorage.getItem(\"id\")\r\n        const topic={...this.state.topic}\r\n        if(token){\r\n            Axios.post(`https://www.vue-js.com/api/v1/reply/${reply_id}/ups`,{accesstoken:'3d029f55-d68b-4e46-8e78-69149b95cabe'}).then(res=>{\r\n                console.log(res.data)\r\n                if(res.data.action==='up'){\r\n                    topic.replies.find(item=>item.id===reply_id).ups.push(id)\r\n                    console.log(topic.replies.find(item=>item.id===reply_id).ups);\r\n                    \r\n                }else{\r\n              \r\n                \r\n                    \r\n                    topic.replies.find(item=>item.id===reply_id).ups=topic.replies.find(item=>item.id===reply_id).ups.filter(res=>res!=='5e86e2a97d2d480729ae771c')\r\n                }\r\n                this.setState({\r\n                    topic:topic\r\n                })\r\n                \r\n            })\r\n        }\r\n\r\n      \r\n       \r\n        \r\n    }\r\n}\r\nexport default Text","import React from 'react';\r\nimport { Component } from 'react';\r\nclass User extends Component {\r\n    \r\n    render() {\r\n        console.log(this.props.match.params.username);\r\n\r\n        return <div>\r\n            <div className=\"top\">\r\n                <p>个人中心</p>\r\n\r\n\r\n            </div>\r\n        </div>\r\n    }\r\n}\r\nexport default User","import React, { Component } from 'react';\r\nimport { Route, Switch } from 'react-router-dom'\r\nimport './Main.css'\r\n\r\nimport Home from './Home';\r\nimport Text from './Text';\r\nimport User from './User';\r\nclass Main extends Component {\r\n    render() {\r\n        // 原因是你用了两次Router 也就是++++\r\n        return <Switch>\r\n            <Route exact path=\"/\" component={Home} />\r\n            <Route path='/topic/:id' component={Text} />\r\n            <Route path='/user/:username' component={User} />\r\n        </Switch>\r\n\r\n\r\n    }\r\n\r\n\r\n\r\n\r\n}\r\nexport default Main","import React from 'react';\nimport Header from './Header';\nimport Main from './Main';\nimport { HashRouter as Router } from 'react-router-dom'\nimport 'antd/dist/antd.css';\n\nfunction App() {\n  return (\n    <Router>\n      <Header />\n      <Main />\n    </Router>\n  );\n}\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' }\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(<App />, document.getElementById('root'));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}